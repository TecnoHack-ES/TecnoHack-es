<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <h1>Noticias</h1>

  <label for="sort">Ordenar por:</label>
  <select id="sort">
    <option value="fecha">Más recientes</option>
    <option value="vistas">Más vistas</option>
  </select>
  
  <ul id="news-list">
    {% for post in site.posts %}
      {% if post.categories contains "noticias" %}
        <li data-fecha="{{ post.date | date: '%Y%m%d' }}" data-vistas="{{ post.visitas | default: 0 }}">
          <a href="{{ post.permalink }}">{{ post.title }}</a> - 
          {{ post.date | date: "%d/%m/%Y" }} - {{ post.visitas | default: 0 }} vistas
        </li>
      {% endif %}
    {% endfor %}
</ul>

  
  <script>
    document.getElementById('sort').addEventListener('change', function() {
      let list = document.getElementById('news-list');
      let items = Array.from(list.getElementsByTagName('li'));
      let sortBy = this.value;
  
      items.sort((a, b) => {
        let aValue = parseInt(a.dataset[sortBy]);
        let bValue = parseInt(b.dataset[sortBy]);
        return bValue - aValue; // Orden descendente
      });
  
      list.innerHTML = '';
      items.forEach(item => list.appendChild(item));
    });
  </script>
</body>
</html>